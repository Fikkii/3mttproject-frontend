import{_ as v}from"./AdminForm-BsCRtVOI.js";import{y as b,r as l,h as y,i as u,g as x,c as j,o as i,a as e,l as g,b as C,e as _,n as h}from"./index-_9QuGeYa.js";const B={__name:"ProjectPage",setup(k){const n=b(),r=l([]),s=l(!1),a=l([{name:"title",placeholder:"Enter project Title",res:""},{name:"instructions",placeholder:"Enter project instructions",res:""}]);y(()=>{c()});async function c(){try{const t=await u.get("/api/projects");if(t.status==200){const o=t.data;r.value=o,console.log(t.data)}}catch(t){console.error("Caught error:",t)}}function p(t,o){a.value[t].res=o}async function d(){try{const t=u.post("/api/admin/projects",{title:a.value[0].res,instructions:a.value[1].res});c(),s.value=!s.value,n.success("Project Created Successfully...")}catch{n.error("Unable to create Project...")}}function m(){s.value=!1}return(t,o)=>{const f=x("Table");return i(),j("div",null,[e("div",null,[s.value?(i(),g(v,{key:0,fields:a.value,onUpdate:p,onClose:m,onSubmit:d},null,8,["fields"])):C("",!0)]),e("div",{class:h([s.value?"blur":""])},[e("div",null,[e("button",{onClick:o[0]||(o[0]=P=>s.value=!s.value),class:"bg-blue-500 py-2 text-white block col-start-2 ms-auto w-[200px] rounded"},"Add project"),o[1]||(o[1]=e("div",{class:"flex gap-2 mt-4"},[e("input",{class:"px-4 py-2 rounded-sm flex-1",placeholder:"Enter project Title",type:"text"}),e("button",{class:"px-4 py-2 bg-yellow-500 text-white rounded"},"Search")],-1)),o[2]||(o[2]=e("select",{class:"px-4 py-2 mt-2 border rounded-sm"},[e("option",null,"Latest"),e("option",null,"Active"),e("option",null,"Inactive")],-1))]),_(f,{items:r.value},null,8,["items"])],2)])}}};export{B as default};
