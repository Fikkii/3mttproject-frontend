import{_ as f,r as i,c as a,o as n,a as t,j as g,b as p,v as x,q as k,t as m,F as y,h as w}from"./index-DoQ3gmgm.js";const E={class:"p-6 max-w-3xl mx-auto text-center"},C={key:0,class:"mt-4 text-gray-600"},S={key:1,class:"mt-4 text-red-600"},R={key:2,class:"mt-8 space-y-6 text-left"},j={class:"text-xl font-semibold text-blue-800 mb-2"},B={class:"text-gray-700 mb-2"},P=["onClick"],D={class:"mt-3"},I=["href"],L={__name:"EbookRecommender",setup(M){const c=i(""),d=i([]),r=i([]),v=i(!1),l=i(""),h=(s,e=120)=>s.length>e?s.slice(0,e)+"...":s,_=s=>{r.value[s]=!r.value[s]},b=async()=>{if(!c.value.trim()){l.value="Please enter a topic.";return}v.value=!0,l.value="",d.value=[],r.value=[];const s="https://aiserver.fikki.com.ng";try{const e=await fetch(`${s}/api/ebooks/recommendations`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:c.value})}),o=await e.json();if(!e.ok)throw new Error(o.error||"API Error");d.value=o.cards,r.value=o.cards.map(()=>!1)}catch(e){l.value=e.message}finally{v.value=!1}};return(s,e)=>(n(),a("div",E,[e[1]||(e[1]=t("div",{class:"mb-6"},[t("svg",{class:"mx-auto w-32 h-32 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 3v18m9-9H3m16.5 0a7.5 7.5 0 01-15 0 7.5 7.5 0 0115 0z"})])],-1)),e[2]||(e[2]=t("h1",{class:"text-3xl font-bold mb-4"},"AI-Powered Ebook Recommender",-1)),g(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>c.value=o),onKeydown:k(b,["enter"]),class:"border border-gray-300 rounded px-4 py-2 w-full mb-4 focus:ring focus:border-blue-400",placeholder:"Enter a topic (e.g. 'Machine Learning')"},null,544),[[x,c.value]]),t("button",{onClick:b,class:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition"}," 🔍 Generate Recommendations "),v.value?(n(),a("div",C,"Loading...")):p("",!0),l.value?(n(),a("div",S,m(l.value),1)):p("",!0),d.value.length?(n(),a("div",R,[(n(!0),a(y,null,w(d.value,(o,u)=>(n(),a("div",{key:u,class:"border p-5 rounded shadow hover:shadow-md transition bg-white"},[t("h2",j,m(o.title),1),t("p",B,m(r.value[u]?o.description:h(o.description)),1),t("button",{class:"text-sm text-blue-500 hover:underline",onClick:N=>_(u)},m(r.value[u]?"See less":"See more"),9,P),t("div",D,[t("a",{href:o.link,target:"_blank",rel:"noopener noreferrer",class:"inline-block bg-blue-100 text-blue-700 px-3 py-1 rounded hover:bg-blue-200 transition text-sm"}," 📥 Search & Download ",8,I)])]))),128))])):p("",!0)]))}},V=f(L,[["__scopeId","data-v-eaf848ee"]]);export{V as E};
